---
layout: post
title: Why CSS Sucks, and What Should Be Done To Make It Great
date: '2013-02-04T15:53:00.000Z'
author: Robert Elliot
tags: 
modified_time: '2013-02-04T15:53:20.541Z'
blogger_id: tag:blogger.com,1999:blog-8805447266344101474.post-371263143502726612
blogger_orig_url: http://blog.lidalia.org.uk/2013/02/why-css-sucks-and-what-should-be-done.html
---

1. You can't make two sibling block elements have the same height regardless of content via pure css.<br /><br />This is an ancient chestnut, and one of the primary sources of pain for people who develop real world&nbsp;commercial&nbsp;websites. &nbsp;The reason for this restriction is at first sight sensible; in order to make two block elements have the same height the browser has to render both of them internally in order to find out which is actually the longer in order to set the height of the other to the same value, and only then can it actually display them to the user. &nbsp;This is bad on two counts - it prevents the user seeing content before it is all downloaded, which may be an issue for the large parts of the world still on very slow connections, and it uses up more resources calculating. &nbsp;The purist response is to say "don't design pages that require such a tabular layout; it's a legacy of paper based design, you need to design for the new medium of the web".<br /><br />You know what? &nbsp;It doesn't matter; the purists have already lost. &nbsp;Look around the web, the layouts are mostly pretty static, and they use columns that are the same length. &nbsp;The designers mostly haven't even heard your arguments, and aren't interested in them if they have. &nbsp;They like and always will like nice columns which all line up at the bottom. &nbsp;And so the poor schmucks who are paid to make it so have to make it so. &nbsp;All the purists have managed is to make it a pain in the arse to do. &nbsp;People have to hack it with hardcode heights, which are very brittle - change the content and bang, you need to change the CSS too. &nbsp;Great, tightly coupled content and presentation, just what CSS purists dream about. &nbsp;Or use tables. &nbsp;Yes, that's right, it's actually the fault of this purist rule that we have quite so much non-semantic markup - because in the end people&nbsp;<a href="http://giveupandusetables.com/">give up and use tables.</a><br /><br />Of course now there's display:table and it's ilk in modern browsers, but you know what? &nbsp;It doesn't work very well either. &nbsp;You have to end up wrapping things in a overall wrapper block, and then have a column wrapper block and a row wrapper block and before you know it you've got just as many non-semantic extraneous div elements as if you'd just used a damn table in the first place. &nbsp;And anyway it is rubbish for rowspan/colspan type behaviour.<br /><br />There needs to be a way to specify in pure CSS that a set of block elements should be rendered in a table-like grid without extra non-semantic elements. &nbsp;Yes it means two pass rendering. &nbsp;So give an option to turn it off in the browser and render them as they come then jump at the end. &nbsp;Seriously, the lack of this must rank up with the concept of null as a source of waste in the modern programming world.<br /><br />The purist intentions were good, but the law of unintended&nbsp;consequences&nbsp;and the practical reality of a world where people just are not and never will be perfect has rendered them utterly wrong on this score.<br /><br />2. You can't inherit from a rule.<br /><br />So you have a rule for a button, something like this:<br /><br />.button {<br />&nbsp;&nbsp;height: 20px;<br />&nbsp;&nbsp;width: 100px;<br />}<br /><br />Then you have a special type of button that has a background-image but is otherwise identical. &nbsp;How to do this? &nbsp;You have two options. &nbsp;You can repeat yourself in the css or in the browser. &nbsp;Either make your second rule look like this:<br /><br />.goToButton {<br /><br /><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&nbsp;&nbsp;height: 20px;</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&nbsp;&nbsp;width: 100px;</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&nbsp;&nbsp;background-image: url('img.jpeg');</div><br />}<br />&lt;span class="goToButton"&gt;Go!&lt;/span&gt;<br />&lt;span class="goToButton"&gt;Go again!&lt;/span&gt;<br />&lt;span class="button"&gt;Click!&lt;/span&gt;<br /><br />so that your markup can just contain a single class per element, or else you split up the rules so that they look as below and repeat the class names in the markup:<br /><br /><br /><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">.button {</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&nbsp;&nbsp;height: 20px;</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&nbsp;&nbsp;width: 100px;</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">}</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><br /></div><br /><br /><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">.goToButton {</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"></div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&nbsp;&nbsp;background-image: url('img.jpeg');</div><br /><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">}</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&lt;span class="button goToButton"&gt;Go!&lt;/span&gt;</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&lt;span class="button goToButton"&gt;Go again!&lt;/span&gt;</div><div style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">&lt;span class="button"&gt;Click!&lt;/span&gt;</div><br /><br />Both ways you are needlessly repeating yourself; your entire intent was that a goToButton is always a button. &nbsp;If you change the height of a button in the first example you need to change it in two places. &nbsp;In the second example, since a goToButton is *always* a button why say both? &nbsp;Ever heard of DRY? &nbsp;Meant to be a basic programming principle. &nbsp;Only way you are making this DRY is if you dynamically generate either your markup or your CSS purely in order to get round this CSS limitation. &nbsp;(I lean towards the second as the lesser of two evils, but the fact that css forces you to commit one or the other shows how weak it is.)<br /><br />It shouldn't be beyond the wit of humanity to come up with a way to name a rule and hence inherit from that rule when defining another rule.<br /><br />3. The standard box model is rubbish<br /><br />In the standard box model the width of an element excludes its internal padding and its border. &nbsp;This commits one of the greatest sins in computing - it doesn't give you the least surprising outcome. &nbsp;The least surprising definition of the width of a container encompasses the container's border - if I ask you what the width of a framed photo is you measure across the frame. &nbsp;This is the definition IE6 used. &nbsp;Yes, it was completely wrong to ignore the standard, but it was a vastly more intuitive way of thinking about containers.<br /><br />This has been grudgingly acknowledged - in most modern browsers <a href="http://www.css3.info/preview/box-sizing/">you can set the box-sizing to border-box</a>. &nbsp;But guess which browser you can't do this in? &nbsp;IE7! &nbsp;So you can now use an intuitive box model that works the same in virtually every browser <i>including IE6</i>&nbsp;- apart from IE7. &nbsp;So that should leave us screwed for a good while longer.<br /><br />4. Margins and padding don't overlap<br /><br />One of the theoretically really great things about CSS is that it is purely declarative. &nbsp;You want there to be 5px space around that element? &nbsp;Just say so! &nbsp;Unfortunately,<br /><br />The sad thing is that CSS is potentially really, really great. &nbsp;The goal of separating content and presentation is a brilliant one. &nbsp;Markup is a great way of organising content. &nbsp;But the limitations above just make CSS an unnecessary pain in the arse to do real world work.<br /><br />